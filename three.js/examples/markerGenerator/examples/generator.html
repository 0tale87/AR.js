<!doctype html>

<script src="../threex-arpatternfile.js"></script>
<body>
<a target='_blank' href='https://artoolkit.org/documentation/doku.php?id=3_Marker_Training:marker_training'>artoolkit tutorial</a>	
<br/>
<input type="file" id="fileinput" />
<script>
	// var imageURL = 'images/inner-kanji.png';
	// var imageURL = 'images/inner-hiro.png';
	// 
	// THREEx.ArPatternFile.encodeImageURL(imageURL, function onComplete(patternFileString){
	// 
	// 	console.log(patternFileString)
	// 	
	// 	THREEx.ArPatternFile.triggerDownload(patternFileString)
	// })
	
	document.querySelector('#fileinput').addEventListener('change', function(){
		var file = this.files[0];
		// debugger

		var reader = new FileReader();
		reader.onload = function(event){
			var imageURL = event.target.result
			// debugger
			THREEx.ArPatternFile.encodeImageURL(imageURL, function onComplete(patternFileString){

				console.log(patternFileString)
				
				THREEx.ArPatternFile.triggerDownload(patternFileString)
			})
			
			var image = document.createElement('img')
			image.src = imageURL
			document.body.appendChild(image)
		};
		reader.readAsDataURL(file);
	})	
</script></body>
